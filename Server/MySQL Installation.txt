Red Hat Enterprise Linux or CentOS

安装MySQL 5.x

1. 安装
#yum install mysql-server
卸载：yum -y remove mysql-server

2. 启动
#service mysqld start
#service mysqld stop

3. 修改root密码，默认为空
#mysqladmin -u root password 'YourPassword'

4. 以root身份连接数据，会提示要求输入密码
#mysql -u root -p

5. 创建数据库示例
mysql> CREATE DATABASE jiradb CHARACTER SET utf8 COLLATE utf8_bin;

删除数据库
mysql> drop database jiradb;

6. 切换数据库
mysql> use jiradb;

7. 退出
mysql> quit


修改MySQL数据目录

1. 停止服务
service mysqld stop

2、修改/etc/my.cnf
在[mysqld]中，
把datadir=/var/lib/mysql更改为datadir=/data/mysql
把socket=/var/lib/mysql.sock更改为socket=/data/mysql/mysql.sock

[mysqld]
datadir=/data/mysql
socket=/data/mysql/mysql.sock


在文件末尾中添加socket路径，如果不添加则root用户无法登录：

[client]
socket=/data/mysql/mysql.sock

3、移动data目录

mv /var/lib/mysql  /data

4、修改启动文件/etc/init.d/mysqld
把get_mysql_option mysqld datadir "/var/lib/mysql" 
更改为get_mysql_option mysqld datadir "/data/mysql"

5、为root用户授权，可以从外网直接访问MySQL
GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'Totem2012' WITH GRANT OPTION;

6、创建MySQL用户，下面2个用户不能互相混用
注意要求主机使用百分号%，这样从别的任何地方都可以连接
注意要求主机使用localhost，这样才可以使用localhost连接数据库



导出数据库
#mysqldump -u root -p cms > cms.sql

导入数据库
首先需要创建数据库
mysql> CREATE DATABASE cms CHARACTER SET utf8 COLLATE utf8_bin;
#mysql -u root -p cms < cms.sql


远程连接数据库
#mysql -u root -p -h 10.172.246.158 -Dcms




MySQL 用户管理及权限管理

在 MySQL 命令行模式下输入如下命令可以为 MySQL 创建一个新用户：

CREATE USER username IDENTIFIED BY 'password';
新用户创建完成，但是此刻如果以此用户登陆的话，会报错，因为我们还没有为这个用户分配相应权限，分配权限的命令如下：

GRANT ALL PRIVILEGES ON *.* TO 'username'@'localhost' IDENTIFIED BY 'password';
授予username用户在所有数据库上的所有权限。

如果此时发现刚刚给的权限太大了，如果我们只是想授予它在某个数据库上的权限，那么需要切换到root 用户撤销刚才的权限，重新授权：

EVOKE ALL PRIVILEGES ON *.* FROM 'username'@'localhost';
GRANT ALL PRIVILEGES ON wordpress.* TO 'username'@'localhost' IDENTIFIED BY 'password';
甚至还可以指定该用户只能执行 select 和 update 命令：

GRANT SELECT, UPDATE ON wordpress.* TO 'username'@'localhost' IDENTIFIED BY 'password';
这样一来，再次以username登陆 MySQL，只有wordpress数据库是对其可见的，并且如果你只授权它select权限，那么它就不能执行delete 语句。

另外每当调整权限后，通常需要执行以下语句刷新权限：

FLUSH PRIVILEGES;
删除刚才创建的用户：

DROP USER username@localhost;
仔细上面几个命令，可以发现不管是授权，还是撤销授权，都要指定响应的host（即 @ 符号后面的内容），因为以上及格命令实际上都是在操作mysql 数据库中的user表，可以用如下命令查看相应用户及对应的host:

SELECT User, Host FROM user;
当然，这个表中还包含很多其它例如用户密码、权限设置等很多内容，操作时候尤其需要小心。
